# java-tdd

객체지향적인 코드 작업을 위한 Java tdd 연습

## 원칙

### 순수 Java

코드는 순수 Java 만으로 작성한다. Java 만으로 코드를 작성하며 객체지향적으로 작성할 수 있도록 노력한다.

### else 예약어

if 문을 사용하되 else 예약어는 사용하지 않는다. if 문 안에서 해결하고 넘기도록 노력한다.

### 들여쓰기

한 메소드에서는 한 번의 들여쓰기만 허용한다.

```java
public void positiveAdd(int a, int b) {
  if (a > 0) {
    if (b > 0) {
      ...
    }
  }
}
```

이런 식의 if 안에 if 는 사용해서는 안된다.

### 축약어

용도와 의도를 파악하기위해 축약어를 사용하지 않는다.

```java
public void calcAllNum(int number1, int number2) {
  ...
}

public void calculateAllNumber(int positive, int negative) {
  ...
}
```

축약을 하게되면 의도와 용도를 파악하기 힘들다.(자신의 기억력을 믿지말고, 남들의 추리력을 시험하지 말라)

### 메소드 역할

하나의 메소드는 하나의 역할만 해야한다. 두 가지의 일을 동시에 처리하면 메소드의 역할이 모호해지고 응집도가 낮아진다.

### UI 는 콘솔

입력과 출력은 IDEA 에서 제공하는 콘솔 혹은 CLI 에서 제공하는 콘솔이다. HTML 로 화면을 표시하지 않는다.

### TDD 는 간단하게

TDD 를 진행할 때는 아주 간단한 것부터 테스트를 수행한다. 이런 것도 테스트해야하나 싶은 것도 테스트한다.

## TDD 와 리팩토링

### TDD 연습

- 참고 포스팅 [solar님의 의식적인 연습으로 TDD 리팩토링 연습하기 포스팅](https://velog.io/@solar/자바지기-의식적인-연습으로-TDD-리팩토링-연습하기)

### Lotto 번호 생성

- 과거의 당첨내역을 바탕으로 번호를 생성하는 것이 아닌 1~45번 중 무작위로 6개의 번호를 추출하는 방식 적용
- 코드를 작성하며 TDD 로 작성한 코드가 제대로 동작하는지 확인(진행 예정)
- 코드 작성 완료 후 리팩토링(진행 예정)

### 리팩토링의 때

- 메소드 단위가 너무 크거나 용도에 벗어났을 때
- 로직에 대한 더 좋은 방법이 생각났을 때
- 생각하지 못했던 부분에 대해 깨달았을 때

## 프로젝트 흐름도

1. 로또 번호 추첨기 (Extractor)
    1. 1 ~ 45번 공을 가진다
    2. 6개의 번호를 추첨한다.
2. 로또 종이 (Lotto)
    1. 로또 종이에 0 ~ 6개의 번호를 입력한다.
    2. 로또 종이를 로또 교환권에 넣는다.
    3. 최대 6개의 번호를 가지는 교환권이 생성된다.
3. 교환기 (ExchangeMachine)
    1. 로또 종이를 받는다.
    2. 수동 / 반자동 / 자동을 통해 로또 종이에 6개의 번호를 채워넣는다.
    3. 교환권을 반환한다.
4. 당첨 확인 (작성 예정)
    1. 교환권과 추첨기 번호를 대조한다.
    2. 교환권의 등수를 알려준다.

## 프로젝트를 통해 느낀점

- 로직을 구현하면서 의도했던 대로 기능이 수행되는지 확인할 수 있어서 오류를 찾을 수 있었음.
- 처음에는 간단하게 구현 가능할 거라고 생각했던 부분이 사실 좀 더 복잡하게 이루어질 수 있다는 것을 깨달음.
- 객체지향적으로 코드를 짜기위해 많은 고민과 노력이 필요하는 것을 깨달음.
- 하나의 간단한 메소드를 작성하더라도 오류가 발생하고 의도를 벗어날 수 있었음.
- 작은 단위를 개발하더라도 레거시가 발생할 수 있음을 깨달음.
- 테스트를 당연히 통과할 것이라고 판단해서는 안됨.
- 테스트를 통과했을때의 만족감이 크다는 것을 느낌.
- 대충과 허투루는 레거시 발생과 오류를 크게 범할 수 있음을 깨달음.